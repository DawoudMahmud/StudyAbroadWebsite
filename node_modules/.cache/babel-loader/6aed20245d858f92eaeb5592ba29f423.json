{"remainingRequest":"/Users/dawoudmahmud/WebDevFinal/node_modules/thread-loader/dist/cjs.js!/Users/dawoudmahmud/WebDevFinal/node_modules/babel-loader/lib/index.js!/Users/dawoudmahmud/WebDevFinal/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/dawoudmahmud/WebDevFinal/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/dawoudmahmud/WebDevFinal/src/components/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dawoudmahmud/WebDevFinal/src/components/Login.vue","mtime":1639396054254},{"path":"/Users/dawoudmahmud/WebDevFinal/babel.config.js","mtime":1635966138000},{"path":"/Users/dawoudmahmud/WebDevFinal/node_modules/cache-loader/dist/cjs.js","mtime":1639160403000},{"path":"/Users/dawoudmahmud/WebDevFinal/node_modules/thread-loader/dist/cjs.js","mtime":1639160403000},{"path":"/Users/dawoudmahmud/WebDevFinal/node_modules/babel-loader/lib/index.js","mtime":1639160404000},{"path":"/Users/dawoudmahmud/WebDevFinal/node_modules/cache-loader/dist/cjs.js","mtime":1639160403000},{"path":"/Users/dawoudmahmud/WebDevFinal/node_modules/vue-loader-v16/dist/index.js","mtime":1639160404000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCB7IGFwcCB9IGZyb20gIi4uL21haW4uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL3JlZ2lzdGVyIik7CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZW1haWwgKyAiICIgKyB0aGlzLnBhc3N3b3JkKTsKICAgICAgdmFyIFVSTCA9ICJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS92MS9hY2NvdW50czpzaWduSW5XaXRoUGFzc3dvcmQ/a2V5PUFJemFTeUM0d2h3V0NrV3VqSU15U093b1dCa29aMnF0S2E3YXEyOCI7CiAgICAgIGZldGNoKFVSTCwgewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZQogICAgICAgIH0pCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICBpZiAoZGF0YS5lcnJvciAhPSBudWxsKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRVJST1IiKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZXJyb3IpOwogICAgICAgICAgYWxlcnQoZGF0YS5lcnJvci5tZXNzYWdlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRkaXNwbGF5TmFtZSA9IGRhdGEuZGlzcGxheU5hbWU7CiAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJGlkVG9rZW4gPSBkYXRhLmlkVG9rZW47CiAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJGV4cGlyZXNJbiA9IGRhdGEuZXhwaXJlc0luOwogICAgICAgICAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRhdXRoZW50aWNhdGVkID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9jaGlhbmdtYWkiKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/dawoudmahmud/WebDevFinal/src/components/Login.vue"],"names":[],"mappings":";;;;AAoBA,SAAS,GAAT,QAAoB,YAApB;AAEA,eAAe;AACX,EAAA,IADW,kBACJ;AACH,WAAO;AACH,MAAA,KAAK,EAAE,EADJ;AAEH,MAAA,QAAQ,EAAE;AAFP,KAAP;AAIH,GANU;AAOX,EAAA,OAAO,EAAE;AACL,IAAA,QADK,sBACM;AACP,WAAK,OAAL,CAAa,OAAb,CAAqB,WAArB;AACH,KAHI;AAIL,IAAA,UAJK,wBAIQ;AAAA;;AACT,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,KAAL,GAAa,GAAb,GAAmB,KAAK,QAApC;AACA,UAAM,GAAE,GAAI,mHAAZ;AACA,MAAA,KAAK,CAAC,GAAD,EAAM;AACP,QAAA,MAAM,EAAE,MADD;AAEP,QAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe;AACjB,UAAA,KAAK,EAAE,KAAK,KADK;AAEjB,UAAA,QAAQ,EAAE,KAAK,QAFE;AAGjB,UAAA,iBAAiB,EAAE;AAHF,SAAf;AAFC,OAAN,CAAL,CAQK,IARL,CAQU,UAAC,QAAD;AAAA,eAAc,QAAQ,CAAC,IAAT,EAAd;AAAA,OARV,EASK,IATL,CASU,UAAC,IAAD,EAAU;AAChB,QAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;;AACA,YAAI,IAAI,CAAC,KAAL,IAAc,IAAlB,EAAwB;AACpB,UAAA,OAAO,CAAC,GAAR,CAAY,OAAZ;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,KAAjB;AACA,UAAA,KAAK,CAAC,IAAI,CAAC,KAAL,CAAW,OAAZ,CAAL;AACJ,SAJA,MAKK;AACD,UAAA,GAAG,CAAC,MAAJ,CAAW,gBAAX,CAA4B,YAA5B,GAA2C,IAAI,CAAC,WAAhD;AACA,UAAA,GAAG,CAAC,MAAJ,CAAW,gBAAX,CAA4B,QAA5B,GAAuC,IAAI,CAAC,OAA5C;AACA,UAAA,GAAG,CAAC,MAAJ,CAAW,gBAAX,CAA4B,UAA5B,GAAyC,IAAI,CAAC,SAA9C;AACA,UAAA,GAAG,CAAC,MAAJ,CAAW,gBAAX,CAA4B,cAA5B,GAA6C,IAA7C;;AACA,UAAA,KAAI,CAAC,OAAL,CAAa,OAAb,CAAqB,YAArB;AACJ;AACC,OAvBL,EAwBK,KAxBL,CAwBW,UAAC,KAAD;AAAA,eAAW,OAAO,CAAC,GAAR,CAAY,KAAZ,CAAX;AAAA,OAxBX;AAyBH;AAhCI;AAPE,CAAf","sourcesContent":["<template>\r\n    <div>\r\n         <h3>Login</h3>\r\n        <form @submit.prevent=\"submitForm\">\r\n            <p>\r\n                <label for=\"email\">Email: </label>\r\n                <input id=\"email\" type = \"email\" placeholder= \"Email\" v-model=\"email\" />\r\n            </p>\r\n            <p>\r\n                <label for=\"password\">Password: </label>\r\n                <input id=\"password\" type = \"password\" placeholder = \"Password\" v-model=\"password\" />\r\n            </p>\r\n            <button>Login</button>          \r\n        </form>\r\n        <p>No account?</p>\r\n        <button @click= \"register\">Register Here</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { app } from \"../main.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            email: \"\",\r\n            password: \"\",\r\n        };\r\n    },\r\n    methods: {\r\n        register() {\r\n            this.$router.replace(\"/register\");\r\n        },\r\n        submitForm() {\r\n            console.log(this.email + \" \" + this.password);\r\n            const URL = \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC4whwWCkWujIMySOwoWBkoZ2qtKa7aq28\";\r\n            fetch(URL, {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    email: this.email,\r\n                    password: this.password,\r\n                    returnSecureToken: true,\r\n                }),\r\n            })\r\n                .then((response) => response.json())\r\n                .then((data) => {\r\n                console.log(data);\r\n                if (data.error != null) {\r\n                    console.log(\"ERROR\");\r\n                    console.log(data.error);\r\n                    alert(data.error.message);\r\n                }\r\n                else {\r\n                    app.config.globalProperties.$displayName = data.displayName;\r\n                    app.config.globalProperties.$idToken = data.idToken;\r\n                    app.config.globalProperties.$expiresIn = data.expiresIn;\r\n                    app.config.globalProperties.$authenticated = true;\r\n                    this.$router.replace(\"/chiangmai\");\r\n                }\r\n                })\r\n                .catch((error) => console.log(error));\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ndiv {\r\n    background: rgb(136, 243, 170);\r\n    padding: 10px;\r\n    margin: 5px;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}