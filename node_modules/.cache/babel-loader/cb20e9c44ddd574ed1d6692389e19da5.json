{"remainingRequest":"/Users/pimol/Downloads/01-vue-http-basicx 2/node_modules/babel-loader/lib/index.js!/Users/pimol/Downloads/01-vue-http-basicx 2/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/pimol/Downloads/01-vue-http-basicx 2/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/pimol/Downloads/01-vue-http-basicx 2/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/pimol/Downloads/01-vue-http-basicx 2/src/components/SurveyResult.vue?vue&type=template&id=0091a0c7&scoped=true","dependencies":[{"path":"/Users/pimol/Downloads/01-vue-http-basicx 2/src/components/SurveyResult.vue","mtime":1637218454000},{"path":"/Users/pimol/Downloads/01-vue-http-basicx 2/babel.config.js","mtime":1635966138000},{"path":"/Users/pimol/Downloads/01-vue-http-basicx 2/node_modules/cache-loader/dist/cjs.js","mtime":1639160403303},{"path":"/Users/pimol/Downloads/01-vue-http-basicx 2/node_modules/babel-loader/lib/index.js","mtime":1639160404310},{"path":"/Users/pimol/Downloads/01-vue-http-basicx 2/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1639160404886},{"path":"/Users/pimol/Downloads/01-vue-http-basicx 2/node_modules/cache-loader/dist/cjs.js","mtime":1639160403303},{"path":"/Users/pimol/Downloads/01-vue-http-basicx 2/node_modules/vue-loader-v16/dist/index.js","mtime":1639160404253}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtMDA5MWEwYzciKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAicmVzdWx0LXBhbmUiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJtb3JlIGRldGFpbC4uLiIpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDIiLCBudWxsLCAiVGhlIHN1cnZleSByZXN1bHRzIG9mICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRwcm9wcy5jb3Vyc2VJZCksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5nZXRSZXN1bHQgJiYgJG9wdGlvbnMuZ2V0UmVzdWx0LmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiTG9hZCByZXN1bHRzIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuc2hvd1Jlc3VsdCAmJiAkb3B0aW9ucy5zaG93UmVzdWx0LmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiU2hvdyByZXN1bHRzIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgidWwiLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCBudWxsLCAiTm8gcGxhbjogIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuVDApLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImxpIiwgbnVsbCwgIlQxOiAiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS5UMSksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCBudWxsLCAiVDI6ICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLlQyKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJsaSIsIG51bGwsICJUMzogIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuVDMpLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImxpIiwgbnVsbCwgIlN1bW1lcjogIiArIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuVDQpLCAxCiAgLyogVEVYVCAqLwogICldKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9yb3V0ZXJfbGluaywgewogICAgdG86ICcvZGV0YWlsLycgKyAkcHJvcHMuY291cnNlSWQKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfMl07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsidG8iXSldKTsKfQ=="},{"version":3,"sources":["/Users/pimol/Downloads/01-vue-http-basicx 2/src/components/SurveyResult.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;+CAa8B,gB;;;;;uBAbzC,mBAAA,CAcM,KAdN,EAAA,UAAA,EAcM,CAbJ,mBAAA,CAA6C,IAA7C,EAA6C,IAA7C,EAAI,2BAAsB,gBAAA,CAAG,MAAA,CAAA,QAAH,CAA1B,EAAqC;AAAA;AAArC,GAaI,EAZJ,mBAAA,CAAgD,QAAhD,EAAgD;AAAvC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,SAAA,IAAA,QAAA,CAAA,SAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAkC,GAAhD,EAA2B,cAA3B,CAYI,EAXJ,mBAAA,CAAiD,QAAjD,EAAiD;AAAxC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,UAAA,IAAA,QAAA,CAAA,UAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAmC,GAAjD,EAA4B,cAA5B,CAWI,EAVJ,mBAAA,CAQI,GARJ,EAQI,IARJ,EAQI,CAPJ,mBAAA,CAMK,IANL,EAMK,IANL,EAMK,CALH,mBAAA,CAA0B,IAA1B,EAA0B,IAA1B,EAAI,cAAS,gBAAA,CAAG,KAAA,CAAA,EAAH,CAAb,EAAkB;AAAA;AAAlB,GAKG,EAJH,mBAAA,CAAqB,IAArB,EAAqB,IAArB,EAAI,SAAI,gBAAA,CAAG,KAAA,CAAA,EAAH,CAAR,EAAa;AAAA;AAAb,GAIG,EAHH,mBAAA,CAAqB,IAArB,EAAqB,IAArB,EAAI,SAAI,gBAAA,CAAG,KAAA,CAAA,EAAH,CAAR,EAAa;AAAA;AAAb,GAGG,EAFH,mBAAA,CAAqB,IAArB,EAAqB,IAArB,EAAI,SAAI,gBAAA,CAAG,KAAA,CAAA,EAAH,CAAR,EAAa;AAAA;AAAb,GAEG,EADH,mBAAA,CAAyB,IAAzB,EAAyB,IAAzB,EAAI,aAAQ,gBAAA,CAAG,KAAA,CAAA,EAAH,CAAZ,EAAiB;AAAA;AAAjB,GACG,CANL,CAOI,CARJ,CAUI,EADJ,YAAA,CAAmE,sBAAnE,EAAmE;AAArD,IAAA,EAAE,EAAA,aAAa,MAAA,CAAA;AAAsC,GAAnE,E;sBAAuC;AAAA,aAAc,C,UAAA,CAAd;AAAA,K;;;;GAAvC,E;;AAAA,I,MAAA,CACI,CAdN,C","sourcesContent":["<template>\n  <div class=\"result-pane\">\n    <h2>The survey results of {{ courseId }}</h2>\n    <button @click=\"getResult\">Load results</button>\n    <button @click=\"showResult\">Show results</button>\n    <p>\n    <ul>\n      <li>No plan: {{ T0 }}</li>\n      <li>T1: {{ T1 }}</li>\n      <li>T2: {{ T2 }}</li>\n      <li>T3: {{ T3 }}</li>\n      <li>Summer: {{ T4 }}</li>\n    </ul>\n    </p>\n    <router-link :to=\"'/detail/'+courseId\">more detail...</router-link>\n  </div>\n</template>\n\n<script>\n// import axios from \"axios\"\nimport AxiosService from \"../services/AxiosService.js\";\n\nexport default {\n  mounted() {\n    this.getResult(); // make a request to the server..\n  },\n  props: [\"courseId\"],\n  data() {\n    return {\n      results: [], // we want an array of objects\n      T0: 0,\n      T1: 0,\n      T2: 0,\n      T3: 0,\n      T4: 0,\n    };\n  },\n  methods: {\n    getResult() {\n      //alert(\"running getResult\");\n      // fetch(\n      //   \"your url\"\n      // )\n      //   .then(function (response) {\n      //     if (response.ok) {\n      //       return response.json();\n      //     }\n      //   })\n      //   .then((data) => {\n      //     //console.log(data);\n      //     const dataArray = [];\n      //     for (const id in data) {\n      //       const dummyObj = {};\n      //       dummyObj.id = id;\n      //       dummyObj.courseId = data[id].courseId;\n      //       dummyObj.courseTerm = data[id].courseTerm;\n      //       dummyObj.studentId = data[id].studentId;\n      //       dataArray.push(dummyObj);\n      //     }\n      //     this.results = dataArray;\n      //     this.showResult();\n      //   });\n      // move on with the lines RIGHT AWAY...\n      // ...\n      // ...\n      // ... these lines are executed.. we don't want fetch to finish at all.\n      \n      // axios.get(\n      //   \"https://vue-test-e7a21-default-rtdb.asia-southeast1.firebasedatabase.app/preregis.json\"\n      //   )\n      //   .then((response) => {\n      //     const data = response.data;\n      //     const dataObjArray = [];\n      //     // loop thorugh elements in data\n      //     for( const id in data ){\n      //       // we will make the object\n      //       const anObj = {}; // an empty obj\n      //       // populate anObj with data\n      //       anObj.id = id; // id is MoAsdasafsafsaf from Firebase\n      //       anObj.courseId = data[id].courseId;\n      //       anObj.courseTerm = data[id].courseTerm;\n      //       anObj.studentId = data[id].studentId;\n      //       // append the object (just created) to dataObjArray\n      //       dataObjArray.push(anObj);\n      //     }\n      //     // After we are done with the for loop\n      //     this.results = dataObjArray;\n      //     this.showResult();\n      //   })\n      //   .catch(error => (\n      //     console.log(\"Error: \" + error)\n      //   ));\n      // don't put any code here if it requires data that come from the get method\n    \n      // alert(\"Getting the results from the FRB\");\n      AxiosService.getPreRegis()\n      .then((response)  => {\n        const data = response.data;\n        const dataObjArray = [];\n        for (const id in data) {\n          const anObj = {};\n          anObj.id = id; \n          anObj.courseId = data[id].courseId;\n          anObj.courseTerm = data[id].courseTerm;\n          anObj.studentId = data[id].studentId;\n          if (anObj.courseId === this.courseId) {\n            dataObjArray.push(anObj);\n          }  \n        }\n        this.results = dataObjArray;\n        this.showResult();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    },\n    showResult() {\n      //   alert(\"showing  results\");\n      //   console.log(\"from showResult\");\n      //   console.log(this.results);\n      const arrT0 = this.results.filter((rec) => rec.courseTerm === \"0\");\n      const arrT1 = this.results.filter((rec) => rec.courseTerm === \"1\");\n      const arrT2 = this.results.filter((rec) => rec.courseTerm === \"2\");\n      const arrT3 = this.results.filter((rec) => rec.courseTerm === \"3\");\n      const arrT4 = this.results.filter((rec) => rec.courseTerm === \"4\");\n\n      this.T0 = arrT0.length;\n      this.T1 = arrT1.length;\n      this.T2 = arrT2.length;\n      this.T3 = arrT3.length;\n      this.T4 = arrT4.length;\n    },\n  },\n};\n</script>\n\n\n<style scoped>\n.result-pane {\n  background: lightskyblue;\n  border-radius: 5px;\n  width: 80%;\n  height: 35vh;\n  margin: 5px;\n  padding: 3px;\n}\n</style>"],"sourceRoot":""}]}